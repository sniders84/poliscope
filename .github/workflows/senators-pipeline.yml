- name: Generate senators-rankings.json
  run: |
    mkdir -p poliscope/public
    cat <<'EOF' > generate.mjs
import fs from "fs";

const OUTPUT_PATH = "poliscope/public/senators-rankings.json";

async function build() {
  const rankings = [
    {
      name: "Test Senator",
      office: "Senator",
      party: "I",
      state: "NC",
      missed_votes_pct: 0,
      bills_introduced: 0,
      bills_cosponsored: 0,
      laws_enacted: 0,
      committee_positions_score: 0,
      bills_out_of_committee: 0,
      misconduct: 0
    }
  ];

  fs.writeFileSync(OUTPUT_PATH, JSON.stringify(rankings, null, 2));
  console.log("âœ… senators-rankings.json written");
}

build().catch(err => {
  console.error("Script failed:", err);
  process.exit(1);
});
EOF
    node generate.mjs
